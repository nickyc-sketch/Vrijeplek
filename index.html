<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vrijeplek — Pre-inschrijven (exclusief)</title>
  <meta name="description" content="Pre-inschrijven: €19,95/maand of €180/jaar voor de eerste 3000 klanten. Betaalgegevens nu, eerste incasso op 01-06-2026." />

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/index.css?v=13" />

  <style>
    /* Kleine extra's — minimale overlap met index.css */
    :root { --accent: #1b75d0; --muted: rgba(255,255,255,.82); }
    .lp-wrap{ max-width:1120px; margin:20px auto; padding:0 16px 48px; }
    .lp-card { border-radius:16px; padding:22px; background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); border:1px solid rgba(255,255,255,.04); box-shadow:0 30px 90px rgba(0,0,0,.55); }
    .lp-hero { display:grid; grid-template-columns:1fr 360px; gap:24px; align-items:start; }
    @media (max-width:980px) { .lp-hero { grid-template-columns:1fr; } }
    .lp-header-centre { text-align:center; margin-bottom:18px; color:#fff; }
    .lp-title{ font-size:clamp(1.5rem,3.8vw,2.4rem); margin:6px 0 10px; color:#fff; font-weight:800; }
    .lp-lead{ color:var(--muted); max-width:72ch; font-size:1rem; line-height:1.5; margin-bottom:12px; }
    .lp-panel { padding:18px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,.01), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.04); }
    .lp-progress{ height:12px; background:rgba(255,255,255,.05); border-radius:999px; overflow:hidden; margin-top:12px; border:1px solid rgba(255,255,255,.03); }
    .lp-progress .bar{ height:100%; background:linear-gradient(90deg,var(--accent),#20c06a); width:7%; transition:width .6s ease; min-width:3%; }
    .plans{ margin-top:12px; display:flex; flex-direction:column; gap:8px; }
    .plan{ display:flex; gap:.6rem; align-items:center; padding:.6rem; border-radius:10px; border:1px solid rgba(255,255,255,.04); cursor:pointer; background:transparent; }
    .plan input{ accent-color:var(--accent); }
    .btn-primary{ background:var(--accent); color:#021024; padding:.8rem 1.1rem; border-radius:999px; font-weight:900; border:none; cursor:pointer; box-shadow:0 14px 40px rgba(0,0,0,.35); }
    .btn-ghost{ background:transparent; border:1px solid rgba(255,255,255,.06); color:var(--muted); padding:.68rem 1rem; border-radius:999px; cursor:pointer; }
    .countdown{ display:flex; gap:10px; margin-top:14px; flex-wrap:wrap; }
    .cd{ min-width:90px; text-align:center; padding:10px; border-radius:10px; background:rgba(255,255,255,.02); border:1px solid rgba(255,255,255,.04); }
    .cd .num{ font-weight:900; font-size:1.75rem; color:#fff; }
    .cd .lbl{ font-size:.8rem; color:var(--muted); margin-top:.35rem; letter-spacing:.12em; text-transform:uppercase; }
    .muted{ color:var(--muted); }
    footer.site-footer{ margin-top:28px; }
  </style>
</head>
<body>
  <div class="site">
    <!-- HEADER: alleen logo links en "Voorwaarden" rechts -->
    <header class="site-header">
      <div class="header-inner" style="justify-content:space-between;">
        <a class="brand" href="/" aria-label="Vrijeplek home" style="display:flex;align-items:center;gap:.6rem;">
          <div class="brand-mark">V</div>
          <div class="brand-wordmark">
            <span>vrijeplek</span>
            <span>last minute afspreken</span>
          </div>
        </a>

        <nav>
          <a class="nav-btn btn-green" href="/voorwaarden.html">Voorwaarden</a>
        </nav>
      </div>
    </header>

    <main class="lp-wrap">
      <!-- Centered welcome -->
      <div class="lp-header-centre">
        <h1>Welkom bij Vrijeplek!</h1>
      </div>

      <section class="lp-card lp-hero" aria-labelledby="hero-title">
        <div>
          <h2 id="hero-title" class="lp-title">Simpel. Betaalbaar. Slim je lege momenten vullen.</h2>

          <p class="lp-lead">
            Vrijeplek is er om jouw lege plekken eenvoudig en goedkoop op te vullen. Ons platform is ook voor wie
            flexijobs zoekt of flexijob-vacatures heeft. Zelfstandigen met een gaatje in de agenda vinden snel en
            professioneel klanten. Omdat we de prijs laag houden, verdient zelfs wie in bijberoep werkt er voordeel mee.
            Om Vrijeplek op gang te helpen schenken we de eerste <strong>3.000</strong> bedrijven die zich inschrijven
            een levenslange korting.
          </p>

          <div class="countdown" aria-live="polite" aria-atomic="true">
            <div class="cd" role="group" aria-label="dagen">
              <div class="num" id="cd-days">000</div>
              <div class="lbl">DAGEN</div>
            </div>
            <div class="cd">
              <div class="num" id="cd-hours">00</div>
              <div class="lbl">UREN</div>
            </div>
            <div class="cd">
              <div class="num" id="cd-mins">00</div>
              <div class="lbl">MIN</div>
            </div>
            <div class="cd">
              <div class="num" id="cd-secs">00</div>
              <div class="lbl">SEC</div>
            </div>
          </div>

          <p class="muted" style="margin-top:14px;">
            <strong>Belangrijk:</strong> je schrijft je nu in en geeft betaalgegevens; de eerste afschrijving gebeurt
            op <strong>01-06-2026</strong>. Bij opzegging geldt een opzegtermijn van <strong>3 maanden</strong> vanaf de
            maand waarin je opzegt — bij een maandabonnement betekent dat maximaal €60.
          </p>
        </div>

        <aside class="lp-panel" aria-labelledby="signup-title">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <div id="signup-title" style="font-weight:800;color:#fff;">Pre-inschrijven</div>
              <div class="small muted">Beperkt: eerste <strong>3000</strong> spots</div>
            </div>

            <div style="text-align:right">
              <div class="small muted">Vanaf</div>
              <div class="lp-price" id="panel-price" style="font-weight:900;color:#fff">€19,95 / maand</div>
            </div>
          </div>

          <div class="lp-progress" aria-hidden="true">
            <div class="bar" id="progress-bar" style="width:7%"></div>
          </div>

          <div style="display:flex;justify-content:space-between;margin-top:10px;font-weight:800;color:#fff;">
            <div><span id="taken-display">210</span> gereserveerd</div>
            <div class="muted"><span id="remaining-display">2790</span> beschikbaar</div>
          </div>

          <div class="plans" aria-label="Kies een tarief">
            <label class="plan" data-plan="monthly">
              <input type="radio" name="plan" value="monthly" checked>
              <div>
                <div style="font-weight:900;color:#fff;"><span id="label-monthly">€19,95</span> <small style="font-weight:700;color:var(--muted);font-size:.9rem">/maand</small></div>
                <div class="small muted">Maandabonnement</div>
              </div>
            </label>

            <label class="plan" data-plan="yearly">
              <input type="radio" name="plan" value="yearly">
              <div>
                <div style="font-weight:900;color:#fff;"><span id="label-yearly">€180</span> <small style="font-weight:700;color:var(--muted);font-size:.9rem">/jaar</small></div>
                <div class="small muted">Jaarabonnement — voordelig</div>
              </div>
            </label>
          </div>

          <div style="display:flex;gap:10px;margin-top:14px;">
            <a class="btn-primary" href="/aanmelden?promo=launch">Pre-inschrijven</a>
            <a class="btn-ghost" href="/voorwaarden.html">Voorwaarden</a>
          </div>

          <div style="margin-top:12px;font-size:.92rem;color:var(--muted);">
            <strong id="status-line">Nog <span id="left-spot">2790</span> spots beschikbaar</strong>
          </div>
        </aside>
      </section>
    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <span>© <span id="year"></span> Vrijeplek — Last minute afspraken, netjes geregeld.</span>
        <nav class="footer-nav">
          <a href="/voorwaarden.html">Algemene voorwaarden</a>
        </nav>
      </div>
    </footer>
  </div>

  <!-- Stripe.js -->
  <script src="https://js.stripe.com/v3/"></script>

  <script>
    (function(){
      // Zelfde script als eerder: countdown + slot fetch + price-update
      const SLOT_API = '/api/slots';
      const CREATE_API = '/api/create-checkout-session';
      const FALLBACK_TAKEN = 210;
      const TOTAL_SLOTS = 3000;
      const STRIPE_PUBLISHABLE_KEY = 'pk_test_XXX_REPLACE_ME';

      const TRIAL_START = new Date('2026-06-01T00:00:00+02:00');
      const stripe = Stripe(STRIPE_PUBLISHABLE_KEY);

      const elDays=document.getElementById('cd-days'), elHours=document.getElementById('cd-hours'),
            elMins=document.getElementById('cd-mins'), elSecs=document.getElementById('cd-secs');
      function formatDays(n){ return n>=100?String(n).padStart(3,'0'):String(n); }
      function pad2(n){ return String(n).padStart(2,'0'); }
      function tick(){
        const now=new Date(); let diff=TRIAL_START-now; if(diff<0) diff=0;
        const d=Math.floor(diff/86400000); diff%=86400000;
        const h=Math.floor(diff/3600000); diff%=3600000;
        const m=Math.floor(diff/60000);
        const s=Math.floor((diff%60000)/1000);
        if(elDays) elDays.textContent=formatDays(d);
        if(elHours) elHours.textContent=pad2(h);
        if(elMins) elMins.textContent=pad2(m);
        if(elSecs) elSecs.textContent=pad2(s);
      }
      tick(); setInterval(tick,1000);
      document.getElementById('year').textContent=new Date().getFullYear();

      // slots
      const takenEl=document.getElementById('taken-display'), remainingEl=document.getElementById('remaining-display'),
            leftSpot=document.getElementById('left-spot'), progressBar=document.getElementById('progress-bar'),
            panelPrice=document.getElementById('panel-price'), labelMonthly=document.getElementById('label-monthly'),
            labelYearly=document.getElementById('label-yearly'), statusLine=document.getElementById('status-line');

      async function fetchSlots(){
        try{
          const r=await fetch(SLOT_API,{cache:'no-store'});
          if(!r.ok) throw new Error('no');
          const j=await r.json();
          const taken=Number(j.taken ?? FALLBACK_TAKEN), total=Number(j.total ?? TOTAL_SLOTS);
          updateSlots(taken,total);
        }catch(e){
          updateSlots(FALLBACK_TAKEN,TOTAL_SLOTS);
        }
      }
      function updateSlots(taken,total){
        const safeTaken=Math.max(0,Math.floor(taken));
        const remaining=Math.max(0,total-safeTaken);
        takenEl.textContent=safeTaken.toLocaleString('nl-NL');
        remainingEl.textContent=remaining.toLocaleString('nl-NL');
        leftSpot.textContent=remaining.toLocaleString('nl-NL');
        const pct=Math.round((safeTaken/total)*100);
        progressBar.style.width=Math.max(3,Math.min(100,pct))+'%';
        if(safeTaken<total){
          panelPrice.textContent='€19,95 / maand';
          labelMonthly.textContent='€19,95';
          labelYearly.textContent='€180';
          statusLine.innerHTML=`Nog <strong>${remaining.toLocaleString('nl-NL')}</strong> early-adopter spots beschikbaar`;
        }else{
          panelPrice.textContent='€24,95 / maand';
          labelMonthly.textContent='€24,95';
          labelYearly.textContent='€250';
          statusLine.innerHTML=`Early-adopter spots zijn vol — huidige prijs: €24,95/maand of €250/jaar`;
        }
      }
      fetchSlots(); setInterval(fetchSlots,15000);
    })();
  </script>
</body>
</html>
